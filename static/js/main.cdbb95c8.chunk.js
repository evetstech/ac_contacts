(this.webpackJsonpactive_campaign=this.webpackJsonpactive_campaign||[]).push([[0],{23:function(t,e,a){t.exports=a(60)},28:function(t,e,a){},29:function(t,e,a){},30:function(t,e,a){},31:function(t,e,a){},32:function(t,e,a){},33:function(t,e,a){},54:function(t,e,a){},59:function(t,e,a){},60:function(t,e,a){"use strict";a.r(e);var n,c=a(0),r=a.n(c),o=a(6),s=a.n(o),l=(a(28),a(29),a(4)),u=(a(30),function(t){var e=t.columns,a=t.sortColumn;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"header-row"},r.a.createElement("th",null,r.a.createElement("input",{type:"checkbox",disabled:!0})),e.map((function(t,n){return r.a.createElement("th",{key:n},r.a.createElement("div",null,t.description,t.description===a&&r.a.createElement("div",{className:"arrow-down"}),n===e.length-1&&r.a.createElement("span",null,"\u25a0 \u25a0 \u25a0")))}))))}),i=(a(31),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null),r.a.createElement("div",{className:"ctrl-btn-wrap"},r.a.createElement("div",{className:"inner-txt-before"},"Email"),r.a.createElement("span",null)))}),d=function(t){var e=t.row,a=t.columns,n=Object(c.useState)(!1),o=Object(l.a)(n,2),s=o[0],u=o[1],d=Object(c.useCallback)((function(){u((function(t){return!t}))}),[u]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:s?"table-row-selected":"table-row"},r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",onClick:d})),a.map((function(t,n){return r.a.createElement("td",{key:n},r.a.createElement("div",null,"Contact"===t.description&&r.a.createElement("div",{className:"circle-initials"},e.initials&&e.initials),e[t.dataPath]&&e[t.dataPath],n===a.length-1&&s&&r.a.createElement(i,null)))}))))},m=(a(32),function(t){var e=t.columns,a=t.rows,n=t.sortColumn;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead"},r.a.createElement(u,{sortColumn:n,columns:e})),r.a.createElement("tbody",null,a.length>0?a.map((function(t,a){return r.a.createElement(d,{key:a,columns:e,row:t})})):r.a.createElement("tr",null,r.a.createElement("td",{style:{textAlign:"center",height:"46px"},colSpan:6},"No Data Available"))))}),p=(a(33),a(5)),g=a.n(p),f=a(7),b=a(8),h=a(21),v=a.n(h),E="https://sahmed93846.api-us1.com/api/3/contacts?include=contactTags.tag,deals,geoIps.geoAddress&limit=30",w=function(){var t=Object(f.a)(g.a.mark((function t(e){var a,n,c=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:E,t.next=3,v.a.get("https://cors-anywhere.herokuapp.com/"+a,{headers:{"Api-Token":e}});case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();!function(t){t[t.Idle=0]="Idle",t[t.Fetching=1]="Fetching",t[t.Success=2]="Success",t[t.Error=3]="Error"}(n||(n={}));var j,y={contactsData:{tags:{},contactTags:{},deals:{},geoIps:[],geoAddresses:{},contacts:[]},status:n.Idle},O=function(t){var e={};return t?(t.map((function(t){return t.id&&(e[t.id]=t),t})),e):{}},k=Object(b.b)({name:"contact",initialState:y,reducers:{addContactsData:function(t,e){t.contactsData.tags=e.payload.tags,t.contactsData.contactTags=e.payload.contactTags,t.contactsData.deals=e.payload.deals,t.contactsData.geoIps=e.payload.geoIps,t.contactsData.geoAddresses=e.payload.geoAddresses,t.contactsData.contacts=e.payload.contacts},setStatus:function(t,e){t.status=e.payload},setErrorMessage:function(t,e){t.errorMessage=e.payload}}}),N=k.actions,C=N.addContactsData,x=N.setStatus,D=N.setErrorMessage,I=function(t){return t.contact.contactsData.contacts},T=function(t){return t.contact.contactsData.deals},S=function(t){return t.contact.contactsData.tags},A=function(t){return t.contact.contactsData.contactTags},F=function(t){return t.contact.contactsData.geoIps},P=function(t){return t.contact.contactsData.geoAddresses},M=function(t){return t.contact.status},B=k.reducer,J=function(t){var e=t.text,a=t.loadingStatus,c=t.onClick,o=void 0===c?function(){}:c;return r.a.createElement("button",{className:"btn",onClick:o,disabled:a===n.Fetching},a!==n.Fetching?e:r.a.createElement("span",null))},W=(a(54),function(t){var e=t.placeholder,a=t.error,n=t.onTextChange,o=void 0===n?function(){}:n,s=t.text,u=t.disabled,i=Object(c.useState)(!1),d=Object(l.a)(i,2),m=d[0],p=d[1],g=Object(c.useState)(s),f=Object(l.a)(g,2),b=f[0],h=f[1],v=Object(c.useCallback)((function(){p(!0)}),[p]),E=Object(c.useCallback)((function(){p(!1)}),[p]),w=Object(c.useCallback)((function(t){o(t.target.value),t.target.value.length>26?h(t.target.value.substring(0,24)+"..."):h(t.target.value)}),[o]);return r.a.createElement("input",{className:a?"input-error":"input-normal",type:"text",value:m&&s?s:b,onChange:w,onFocus:v,onBlur:E,disabled:u,placeholder:e})}),_=a(3),L=function(t,e,a,n,c,r){var o=[];return t.map((function(t){var s=t.deals.length,l=function(t,e){var a="usd",n=0;return t.map((function(t,c){return 0===c&&(a=e[t].currency),isNaN(e[t].value)||(n+=parseInt(e[t].value)),t})),new Intl.NumberFormat(a,{style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:0}).format(n)}(t.deals,e),u=function(t,e,a){var n="";return t.map((function(c,r){return n+="".concat(a[e[c].tag].tag),r!==t.length-1&&(n+=", "),c})),n}(t.contactTags,n,a),i=function(t,e,a){var n="";if(t[0]){var c=a[e[0].id];n="".concat(c.city,", ").concat(c.state,", ").concat(c.country2)}return n}(t.geoIps,c,r);return o.push({name:(t.firstName?t.firstName+" ":"")+(t.lastName?t.lastName:""),initials:(t.firstName?t.firstName.charAt(0):"?")+(t.lastName?t.lastName.charAt(0):"?"),value:l,deals:s,location:i,tags:u}),t})),o},V=(a(59),[{description:"Contact",dataPath:"name"},{description:"Total Value",dataPath:"value"},{description:"Location",dataPath:"location"},{description:"Deals",dataPath:"deals"},{description:"Tags",dataPath:"tags"}]),$=function(t){return function(e){var a=Object(_.c)(M),o=Object(c.useState)(""),s=Object(l.a)(o,2),u=s[0],i=s[1],d=Object(_.b)(),m=Object(c.useCallback)((function(t){i(t)}),[i]),p=Object(c.useCallback)((function(){var t,e;d((t=u,function(){var a=Object(f.a)(g.a.mark((function a(c){var r,o;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(x(n.Fetching)),a.prev=1,a.next=4,w(t,e);case 4:200!==(r=a.sent).status&&(c(x(n.Error)),c(D("There was an error retrieving contacts"))),o={geoIps:r.data.geoIps,geoAddresses:O(r.data.geoAddresses),contacts:r.data.contacts,deals:O(r.data.deals),tags:O(r.data.tags),contactTags:O(r.data.contactTags)},c(x(n.Success)),c(C(o)),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),c(x(n.Error)),c(D("Something went really bad!"));case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(t){return a.apply(this,arguments)}}()))}),[u,d]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"api-wrap"},r.a.createElement(W,{text:u,onTextChange:m,placeholder:"API Token",error:3===a,disabled:1===a}),r.a.createElement(J,{loadingStatus:a,text:"Submit",onClick:p})),r.a.createElement(t,e))}}((j=function(t){var e=t.contacts,a=t.deals,n=t.tags,o=t.contactTags,s=t.geoIps,l=t.geoAddresses,u=Object(c.useMemo)((function(){return L(e,a,n,o,s,l)}),[e,a,n,o,s,l]);return r.a.createElement("div",{className:"contacts-top-wrap"},r.a.createElement(m,{sortColumn:"Contact",columns:V,rows:u}))},function(t){var e=Object(_.c)(I),a=Object(_.c)(T),n=Object(_.c)(S),c=Object(_.c)(A),o=Object(_.c)(F),s=Object(_.c)(P);return r.a.createElement(j,Object.assign({contacts:e,deals:a,tags:n,contactTags:c,geoIps:o,geoAddresses:s},t))})),q=function(){return r.a.createElement("div",{className:"top-level-wrapper"},r.a.createElement($,null))},z=Object(b.a)({reducer:{contact:B}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_.a,{store:z},r.a.createElement(q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.cdbb95c8.chunk.js.map